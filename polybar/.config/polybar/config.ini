;; ── Catppuccin Mocha ──────────────────────────────────────────────────────────
[colors]
base     = #1e1e2e
mantle   = #181825
crust    = #11111b
surface0 = #313244
surface1 = #45475a
surface2 = #585b70
overlay0 = #6c7086
overlay1 = #7f849c
text     = #cdd6f4
subtext0 = #a6adc8
rosewater = #f5e0dc
flamingo  = #f2cdcd
mauve    = #cba6f7
red      = #f38ba8
peach    = #fab387
yellow   = #f9e2af
green    = #a6e3a1
teal     = #94e2d5
sky      = #89dceb
sapphire = #74c7ec
blue     = #89b4fa
lavender = #b4befe

;; ── Bar ───────────────────────────────────────────────────────────────────────
[bar/main]
width          = 98%
height         = 30pt
radius         = 10
offset-x       = 1%
offset-y       = 8pt
fixed-center   = true
bottom         = false

background = ${colors.crust}
foreground = ${colors.text}

line-size      = 2pt
border-size    = 0pt
border-color   = #00000000

padding-left   = 1
padding-right  = 1
module-margin  = 0

separator          = 
separator-foreground = ${colors.surface0}

font-0 = "CaskaydiaCove Nerd Font:size=10;2"
font-1 = "CaskaydiaCove Nerd Font:size=14;3"

modules-left   = xworkspaces mpris
modules-center = date
modules-right  = weather wlan pulseaudio backlight battery tray

cursor-click  = pointer
cursor-scroll = ns-resize
enable-ipc    = true
wm-restack    = i3

;; ── Workspaces ────────────────────────────────────────────────────────────────
[module/xworkspaces]
type = internal/xworkspaces
pin-workspaces  = false
enable-click    = true
enable-scroll   = true

label-active            = %name%
label-active-foreground = ${colors.flamingo}
label-active-background = ${colors.surface0}
label-active-padding    = 2

label-occupied            = %name%
label-occupied-foreground = ${colors.overlay1}
label-occupied-padding    = 2

label-empty            = 
label-empty-padding    = 0

label-urgent            = %name%
label-urgent-foreground = ${colors.red}
label-urgent-background = ${colors.surface0}
label-urgent-padding    = 2

;; ── Media ─────────────────────────────────────────────────────────────────────
[module/mpris]
type     = custom/script
exec     = ~/.config/polybar/scripts/mpris.sh
interval = 2
format   = <label>
format-padding  = 1
label-maxlen    = 40
label-ellipsis  = true
click-left      = playerctl play-pause
click-right     = playerctl next
double-click-left = playerctl previous
scroll-up       = pamixer -i 2
scroll-down     = pamixer -d 2

;; ── Clock ─────────────────────────────────────────────────────────────────────
[module/date]
type     = internal/date
interval = 1
date     = %H:%M
date-alt = %A %d %B  %H:%M

label            =   %date% 
label-background = ${colors.surface0}
label-foreground = ${colors.flamingo}
label-padding    = 2

;; ── Weather ───────────────────────────────────────────────────────────────────
[module/weather]
type     = custom/script
exec     = curl -sf 'https://wttr.in/?format=1' | sed 's/   / /g;s/+//g'
exec-if  = ping -c1 -W2 wttr.in &>/dev/null
interval = 3600
format-foreground = ${colors.sky}
format-padding    = 1

;; ── Network ───────────────────────────────────────────────────────────────────
[module/wlan]
type           = internal/network
interface-type = wireless
interval       = 5

format-connected          = <label-connected>
format-connected-foreground = ${colors.yellow}
format-connected-padding  = 1
label-connected           = 󰖩  %essid% %signal%%

format-disconnected          = <label-disconnected>
format-disconnected-foreground = ${colors.overlay0}
label-disconnected           = 󰖪  offline

;; ── Volume ────────────────────────────────────────────────────────────────────
[module/pulseaudio]
type = internal/pulseaudio
use-ui-max = false

format-volume          = <ramp-volume> <bar-volume>
format-volume-foreground = ${colors.blue}
format-volume-padding  = 1

label-muted            = 󰝟  muted
label-muted-foreground = ${colors.overlay0}
label-muted-padding    = 1

ramp-volume-0 = 󰕿
ramp-volume-1 = 󰖀
ramp-volume-2 = 󰕾

bar-volume-width        = 8
bar-volume-fill         = ━
bar-volume-fill-foreground = ${colors.blue}
bar-volume-empty        = ━
bar-volume-empty-foreground = ${colors.surface1}
bar-volume-indicator    = 
bar-volume-indicator-foreground = ${colors.lavender}

click-right = pavucontrol &

;; ── Backlight ─────────────────────────────────────────────────────────────────
[module/backlight]
type = internal/backlight
card = intel_backlight
use-actual-brightness = true
enable-scroll = true

format          = <ramp> <label>
format-foreground = ${colors.subtext0}
format-padding  = 1
label           = %percentage%%

ramp-0 = 󰃞
ramp-1 = 󰃟
ramp-2 = 󰃠

;; ── Battery ───────────────────────────────────────────────────────────────────
[module/battery]
type          = internal/battery
full-at       = 99
low-at        = 15
poll-interval = 5

format-charging          = <animation-charging>  <label-charging>
format-charging-foreground = ${colors.green}
format-charging-padding  = 1

format-discharging          = <ramp-capacity>  <label-discharging>
format-discharging-padding  = 1

format-full          = 󰁹  <label-full>
format-full-foreground = ${colors.green}
format-full-padding  = 1

format-low          = <ramp-capacity>  <label-low>
format-low-foreground = ${colors.red}
format-low-padding  = 1

label-charging    = %percentage%%
label-discharging = %percentage%%
label-full        = %percentage%%
label-low         = %percentage%%

ramp-capacity-0 = 󰁺
ramp-capacity-1 = 󰁻
ramp-capacity-2 = 󰁽
ramp-capacity-3 = 󰁾
ramp-capacity-4 = 󰁿
ramp-capacity-5 = 󰂀
ramp-capacity-6 = 󰂁
ramp-capacity-7 = 󰂂
ramp-capacity-foreground = ${colors.yellow}

animation-charging-0 = 󰢜
animation-charging-1 = 󰂆
animation-charging-2 = 󰂇
animation-charging-3 = 󰂈
animation-charging-4 = 󰂉
animation-charging-framerate = 750

;; ── Tray ──────────────────────────────────────────────────────────────────────
[module/tray]
type        = internal/tray
tray-size   = 12
tray-spacing = 4px
tray-padding = 2px

;; ── Settings ──────────────────────────────────────────────────────────────────
[settings]
screenchange-reload = true
pseudo-transparency = false
